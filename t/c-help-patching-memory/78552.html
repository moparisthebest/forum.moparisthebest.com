<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/c-help-patching-memory/78552 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 19:11:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[C++] Help patching memory - General Programming - moparisthebest.com</title>
    <meta name="description" content="Right then im trying to make a tool :slight_smile: i have the address&amp;#39;s i need to nop and change but dont fully understand what im doing lol  i know i need to use the ReadProcesseMemory and WriteProcessMemory but im havi&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="78552.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[C++] Help patching memory&#39;" href="78552.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/c-help-patching-memory/78552" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/c-help-patching-memory/78552" />
<meta property="og:title" content="[C++] Help patching memory" />
<meta name="twitter:title" content="[C++] Help patching memory" />
<meta property="og:description" content="Right then im trying to make a tool üôÇ i have the address‚Äôs i need to nop and change but dont fully understand what im doing lol  i know i need to use the ReadProcesseMemory and WriteProcessMemory but im having some trouble  var PatchOld = &quot;\x74\xD0&quot; var PatchNew = &quot;\x90\x90&quot; var Patcholdjmp1=&quot;\x74\x22&quot; var PatchNewjmp1=&quot;\x90\x90&quot; var Patchjmp1Address=0x6280C4 var PatchOldjmp2=&quot;\x72\x22&quot; var PatchNewjmp2=&quot;\x90\x90&quot; var Patchjmp2Address=0x6280D4 var Address = 0x61B85C var PatchOldUnli..." />
<meta name="twitter:description" content="Right then im trying to make a tool üôÇ i have the address‚Äôs i need to nop and change but dont fully understand what im doing lol  i know i need to use the ReadProcesseMemory and WriteProcessMemory but im having some trouble  var PatchOld = &quot;\x74\xD0&quot; var PatchNew = &quot;\x90\x90&quot; var Patcholdjmp1=&quot;\x74\x22&quot; var PatchNewjmp1=&quot;\x90\x90&quot; var Patchjmp1Address=0x6280C4 var PatchOldjmp2=&quot;\x72\x22&quot; var PatchNewjmp2=&quot;\x90\x90&quot; var Patchjmp2Address=0x6280D4 var Address = 0x61B85C var PatchOldUnli..." />
<meta property="article:published_time" content="2007-04-12T02:08:31+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="78552.html">[C++] Help patching memory</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_doyley.html'><span itemprop='name'>_doyley</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-04-12T02:08:31Z'>
            <time itemprop='dateModified' datetime='2016-07-30T07:23:07Z' class='post-time'>
              July 30, 2016,  7:23am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Right then im trying to make a tool <img src="../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"> i have the address‚Äôs i need to nop and change but dont fully understand what im doing lol<br>
i know i need to use the ReadProcesseMemory and WriteProcessMemory but im having some trouble</p>
<pre><code class="lang-auto">var PatchOld = "\x74\xD0"
var PatchNew = "\x90\x90"
var Patcholdjmp1="\x74\x22"
var PatchNewjmp1="\x90\x90"
var Patchjmp1Address=0x6280C4
var PatchOldjmp2="\x72\x22"
var PatchNewjmp2="\x90\x90"
var Patchjmp2Address=0x6280D4
var Address = 0x61B85C
var PatchOldUnlimitedNudge="\x8B\x86\xDC\x02\x00\x00"
var PatchNewUnlimitedNudge="\x33\xC0\x40\x90\x90\x90";
var PatchUnlimitedNudgeAddress=0x61B85E
var PatchOldjmp3="\x75\x46"
var PatchNewjmp3="\xEB\x46"
var Patchjmp3Address=0x61B7ED</code></pre>
<p>basicly i wanna patch all that shit above but in c++ anyone shed some light?<br>
thanks.</p>
      </div>

      <meta itemprop='headline' content='[C++] Help patching memory'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-04-12T04:24:51Z'>
            <time itemprop='dateModified' datetime='2016-07-30T07:23:35Z' class='post-time'>
              July 30, 2016,  7:23am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ask nicely in <span class="hashtag">#milw0rm</span> <img src="../../images/emoji/twitter/wink1bce.png?v=6" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>

      <meta itemprop='headline' content='[C++] Help patching memory'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pplsuqbawlz.html'><span itemprop='name'>pplsuqbawlz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-04-12T12:37:38Z'>
            <time itemprop='dateModified' datetime='2016-07-30T07:24:51Z' class='post-time'>
              July 30, 2016,  7:24am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Learn offsets, learn assembly, and write over the current assembly. Yeah thanks.</p>
<p>Don‚Äôt forget to define the ‚Äúpsapi‚Äù and include the api. And set up your <span class="hashtag">#pragma</span> pack();s and what not properly.</p>
      </div>

      <meta itemprop='headline' content='[C++] Help patching memory'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_doyley.html'><span itemprop='name'>_doyley</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-04-12T16:04:02Z'>
            <time itemprop='dateModified' datetime='2016-07-30T07:25:10Z' class='post-time'>
              July 30, 2016,  7:25am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thanks pplsuqbawlz think im getting there <img src="../../images/emoji/twitter/wink1bce.png?v=6" title=":wink:" class="emoji" alt=":wink:"> only simple to patch msn 8.2 for unlimited nudges.</p>
      </div>

      <meta itemprop='headline' content='[C++] Help patching memory'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pplsuqbawlz.html'><span itemprop='name'>pplsuqbawlz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-04-13T11:30:46Z'>
            <time itemprop='dateModified' datetime='2016-07-30T07:27:40Z' class='post-time'>
              July 30, 2016,  7:27am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What happends if you remove an if statement and replace it with a jump that points to the location of that if statements ‚Äútrue‚Äù result?! Oh snap, it makes the condition always true; lol always nudge. nudge. nudge. nudge. nudge. nudge. nudge. nudge. nudge. nudge. nudge.</p>
<p>I joke lol, peace man</p>
      </div>

      <meta itemprop='headline' content='[C++] Help patching memory'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Javacisnotrecognized.html'><span itemprop='name'>Javacisnotrecognized</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-04-13T15:47:28Z'>
            <time itemprop='dateModified' datetime='2016-07-30T07:27:54Z' class='post-time'>
              July 30, 2016,  7:27am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="onebox whitelistedgeneric">
  <header class="source">
      <a href="https://docs.microsoft.com/en-us/windows/desktop/api/memoryapi/nf-memoryapi-writeprocessmemory" target="_blank" rel="nofollow noopener">docs.microsoft.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://docs.microsoft.com/en-us/media/logos/logo-ms-social.png" class="thumbnail onebox-avatar" width="400" height="400">

<h3><a href="https://docs.microsoft.com/en-us/windows/desktop/api/memoryapi/nf-memoryapi-writeprocessmemory" target="_blank" rel="nofollow noopener">WriteProcessMemory function (memoryapi.h)</a></h3>

<p>Writes data to an area of memory in a specified process. The entire area to be written to must be accessible or the operation fails.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

      </div>

      <meta itemprop='headline' content='[C++] Help patching memory'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Krichevskoy.html'><span itemprop='name'>Krichevskoy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-04-14T06:13:59Z'>
            <time itemprop='dateModified' datetime='2016-07-30T07:29:49Z' class='post-time'>
              July 30, 2016,  7:29am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Check MSDN for the technical part of using the memory debug functions.<br>
Basically, each instruction in a program has a specific numerical value written in the executable itself. The idea behind memory patching is to replace those numbers with numbers that do what you want.</p>
<p>Here‚Äôs an example from my nooby CoD2 trainer (different language but same concept):</p>
<pre><code class="lang-auto">    ;grenades
    fragaddr    dd 4DDFB1h
    inffragstr  db 90h,90h,90h,90h,90h,90h,90h
    finfragstr  db 255,8Ch,88h,18h,03h,00h,00h</code></pre>
<p>The grenade patch replaces the finite grenade code with code that gives you infinite grenades (NOPs in this case).</p>
<p>If you look at the MSDN page:</p>
<blockquote>hProcess
    [in] A handle to the process memory to be modified. The handle must have PROCESS_VM_WRITE and PROCESS_VM_OPERATION access to the process.
lpBaseAddress
    [in] A pointer to the base address in the specified process to which data is written. Before data transfer occurs, the system verifies that all data in the base address and memory of the specified size is accessible for write access, and if it is not accessible, the function fails.
lpBuffer
    [in] A pointer to the buffer that contains data to be written in the address space of the specified process.
nSize
    [in] The number of bytes to be written to the specified process.
lpNumberOfBytesWritten
    [out] A pointer to a variable that receives the number of bytes transferred into the specified process. This parameter is optional. If lpNumberOfBytesWritten is NULL, the parameter is ignored.</blockquote>
<pre><code class="lang-auto">invoke WriteProcessMemory, hProc, fragaddr, ADDR inffragstr, 7, NULL</code></pre>
<p>hProc -  handle to the game process. got it with GetWindowThreadProcessId<br>
fragaddr - the address with code we want to edit<br>
ADDR inffragstr - the address of the new instructions<br>
7 - how much to write<br>
NULL - don‚Äôt care how many were written</p>
      </div>

      <meta itemprop='headline' content='[C++] Help patching memory'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/c-help-patching-memory/78552 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 19:11:10 GMT -->
</html>
