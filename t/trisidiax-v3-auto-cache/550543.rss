<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>TRISIDIAX v3 auto cache</title>
    <link>https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543</link>
    <description>Hey guys as most of you guys know trisidia isn&#39;t a really good source but it has come perks but the number one thing I don&#39;t like is that the auto cache download doesn&#39;t work I&#39;ve re zipped the cache and uploaded to Dropbox and everyone done right and then when I run it to download the cache it tells me error Can&#39;t unzip the cache or something like that if someone has working with this source and can get the auto cache working for me I&#39;ll be willing to pay them to get it running just comment and let me know if you can help me thanks:)</description>
    
    <lastBuildDate>Sat, 14 Mar 2015 22:46:52 +0000</lastBuildDate>
    <category>Game Development</category>
    <atom:link href="https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>TRISIDIAX v3 auto cache</title>
        <dc:creator><![CDATA[@Twd1995 Twd1995]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/twd1995">@Twd1995</a> wrote:</p>
          <blockquote>
              <p>Same problem</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543/5</link>
        <pubDate>Sat, 14 Mar 2015 22:46:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550543-5</guid>
        <source url="https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543.rss">TRISIDIAX v3 auto cache</source>
      </item>
      <item>
        <title>TRISIDIAX v3 auto cache</title>
        <dc:creator><![CDATA[@popcorn57 popcorn57]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/popcorn57">@popcorn57</a> wrote:</p>
          <blockquote>
              <p>that happened to me and others as well and this was the fix for it.</p>
<p><a href="https://dl.dropboxusercontent.com/s/91577463/TrisidiaX%20Cache/TrisidiaX%20V3%20Release%20Cache.zip" class="onebox" target="_blank" rel="nofollow noopener">https://dl.dropboxusercontent.com/s/91577463/TrisidiaX%20Cache/TrisidiaX%20V3%20Release%20Cache.zip</a></p>
<p>switch your link to that. idk why but it has to do with the beginning of the link and if that one does not work use this one</p>
<p><a href="https://dl.dropboxusercontent.com/u/91577463/TrisidiaX%20Cache/TrisidiaX%20V3%20Release%20Cache.zip" class="onebox" target="_blank" rel="nofollow noopener">https://dl.dropboxusercontent.com/u/91577463/TrisidiaX%20Cache/TrisidiaX%20V3%20Release%20Cache.zip</a></p>
<p>hope it helps</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543/4</link>
        <pubDate>Sat, 14 Mar 2015 03:24:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550543-4</guid>
        <source url="https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543.rss">TRISIDIAX v3 auto cache</source>
      </item>
      <item>
        <title>TRISIDIAX v3 auto cache</title>
        <dc:creator><![CDATA[@Twd1995 Twd1995]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/twd1995">@Twd1995</a> wrote:</p>
          <blockquote>
              <p><img src="http://i62.tinypic.com/2r26ssw.png" alt width="" height=""></p>
<p>Didn’t Work</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543/3</link>
        <pubDate>Sat, 14 Mar 2015 03:18:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550543-3</guid>
        <source url="https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543.rss">TRISIDIAX v3 auto cache</source>
      </item>
      <item>
        <title>TRISIDIAX v3 auto cache</title>
        <dc:creator><![CDATA[@Mr.Draconian Mr.Draconian]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mr.draconian">@Mr.Draconian</a> wrote:</p>
          <blockquote>
              <p>[code=java]import java.io.File;<br>
import java.io.IOException;<br>
import java.io.OutputStream;<br>
import java.io.FileWriter;<br>
import java.io.BufferedWriter;<br>
import java.io.BufferedOutputStream;<br>
import java.io.BufferedInputStream;<br>
import java.io.FileOutputStream;<br>
import java.io.FileInputStream;<br>
import java.io.InputStream;<br>
import java.net.URLConnection;<br>
import java.net.URL;<br>
import java.util.zip.ZipFile;<br>
import java.util.zip.ZipEntry;<br>
import java.util.zip.ZipInputStream;<br>
import java.util.Enumeration;</p>
<p>import sign.signlink;</p>
<p>public class CacheDownloader {</p>
<pre><code>private client client;

private final int BUFFER = 1024;

private final int VERSION = 5; // Version of cache
private String cacheLink = "https://dl.dropbox.com/u/91577463/TrisidiaX%20Cache/TrisidiaX%20V3%20Release%20Cache.zip"; // Link to cache

private String fileToExtract = getCacheDir() + getArchivedName();

public CacheDownloader(client client) {
	this.client = client;
}

private void drawLoadingText(String text) {
	client.drawLoadingText(35, text);
	//System.out.println(text);
}


private void drawLoadingText(int amount, String text) {
	client.drawLoadingText(amount, text);
	//System.out.println(text);
}

private String getCacheDir() {
	return signlink.findcachedir();
}

private String getCacheLink() {
	return cacheLink;
}

private int getCacheVersion() {
	return VERSION;
}

public CacheDownloader downloadCache() {
	try {
	File location = new File(getCacheDir());
	File version = new File(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat");
	
	if(!location.exists()) {
		//drawLoadingText("Loading new Updates....");
		downloadFile(getCacheLink(), getArchivedName());

		unZip();
		//System.out.println("UNZIP");

		BufferedWriter versionFile = new BufferedWriter(new FileWriter(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat"));
		versionFile.close();
		deleteZIP(getArchivedName());
	} else {
		if(!version.exists()) {
			//drawLoadingText("~ First Time Installation, Only Once! ~");
			downloadFile(getCacheLink(), getArchivedName());

			unZip();
			//System.out.println("UNZIP");

			BufferedWriter versionFile = new BufferedWriter(new FileWriter(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat"));
			versionFile.close();
			deleteZIP(getArchivedName());

		} else {
			return null;
		}
	}
	} catch(Exception e) {

	}
	return null;
}

private void downloadFile(String adress, String localFileName) {
	OutputStream out = null;
	URLConnection conn;
	InputStream in = null;
	
	try {

		URL url = new URL(adress);
		out = new BufferedOutputStream(
			new FileOutputStream(getCacheDir() + "/" +localFileName)); 

		conn = url.openConnection();
		in = conn.getInputStream(); 
	
		byte[] data = new byte[BUFFER]; 

		int numRead;
		long numWritten = 0;
		int length = conn.getContentLength();


		while((numRead = in.read(data)) != -1) {
			out.write(data, 0, numRead);
			numWritten += numRead;

        			int percentage = (int)(((double)numWritten / (double)length) * 100D);
			drawLoadingText(percentage, "Downloading Cache " + percentage + "%...");

		}

		System.out.println(localFileName + "\t" + numWritten);
		drawLoadingText("Unpacking..");

	} catch (Exception exception) {
		exception.printStackTrace();
	} finally {
		try {
			if (in != null) {
				in.close();
			}
			if (out != null) {
				out.close();
			}
		} catch (IOException ioe) {
		}
	}

}

private String getArchivedName() {
	int lastSlashIndex = getCacheLink().lastIndexOf('/');
	if (lastSlashIndex &gt;= 0 
		&amp;&amp; lastSlashIndex &lt; getCacheLink().length() -1) { 
		return getCacheLink().substring(lastSlashIndex + 1);
	} else {
		//System.err.println("error retreiving archivaed name.");
	}
	return "";
}




private void unZip() {

	try {
			InputStream in = 
			new BufferedInputStream(new FileInputStream(fileToExtract));
		ZipInputStream zin = new ZipInputStream(in);
		ZipEntry e;

		while((e=zin.getNextEntry()) != null) {

           			if(e.isDirectory()) {
				(new File(getCacheDir() + e.getName())).mkdir();
           			} else {

			if (e.getName().equals(fileToExtract)) {
				unzip(zin, fileToExtract);
				break;
			}
   					unzip(zin, getCacheDir() + e.getName());
			}
			//System.out.println("unzipping2 " + e.getName());
		}
		zin.close();

	} catch(Exception e) {
		e.printStackTrace();
	}
}
</code></pre>
<p>private void deleteZIP(String fileName){<br>
// A File object to represent the filename<br>
File f = new File(getCacheDir() + fileName);</p>
<pre><code>// Make sure the file or directory exists and isn't write protected
if (!f.exists())
  throw new IllegalArgumentException(
      "Delete: no such file or directory: " + fileName);

if (!f.canWrite())
  throw new IllegalArgumentException("Delete: write protected: "
      + fileName);

// If it is a directory, make sure it is empty
if (f.isDirectory()) {
  String[] files = f.list();
  if (files.length &gt; 0)
    throw new IllegalArgumentException(
        "Delete: directory not empty: " + fileName);
}

// Attempt to delete it
boolean success = f.delete();

if (!success)
  throw new IllegalArgumentException("Delete: deletion failed");

}

private void unzip(ZipInputStream zin, String s) 
	throws IOException {

	FileOutputStream out = new FileOutputStream(s);
	//System.out.println("unzipping " + s);
	byte [] b = new byte[BUFFER];
	int len = 0;

	while ((len = zin.read(b)) != -1) {
		out.write(b,0,len);
	}
	out.close();
}
</code></pre>
<p>}[/code]</p>
<p>Compile and Run!</p>
<p>But make sure you delete the one you already have</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543/2</link>
        <pubDate>Fri, 13 Mar 2015 18:59:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550543-2</guid>
        <source url="https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543.rss">TRISIDIAX v3 auto cache</source>
      </item>
      <item>
        <title>TRISIDIAX v3 auto cache</title>
        <dc:creator><![CDATA[@Twd1995 Twd1995]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/twd1995">@Twd1995</a> wrote:</p>
          <blockquote>
              <p>Hey guys as most of you guys know trisidia isn’t a really good source but it has come perks but the number one thing I don’t like is that the auto cache download doesn’t work I’ve re zipped the cache and uploaded to Dropbox and everyone done right and then when I run it to download the cache it tells me error Can’t unzip the cache or something like that if someone has working with this source and can get the auto cache working for me I’ll be willing to pay them to get it running just comment and let me know if you can help me thanks:)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543/1</link>
        <pubDate>Fri, 13 Mar 2015 07:04:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550543-1</guid>
        <source url="https://forum.moparisthebest.com/t/trisidiax-v3-auto-cache/550543.rss">TRISIDIAX v3 auto cache</source>
      </item>
  </channel>
</rss>
