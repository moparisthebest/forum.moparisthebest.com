<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/mysql-random-string/435259 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 05:18:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[MySQL] Random String - General Programming - moparisthebest.com</title>
    <meta name="description" content="So I&amp;#39;d like to populate an entire existing database with random strings, but I&amp;#39;ll only be doing this once so I don&amp;#39;t really want to create a procedure or something, and I&amp;#39;d like to see what you guys can come up with.  Th&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="435259.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[MySQL] Random String&#39;" href="435259.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/mysql-random-string/435259" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/mysql-random-string/435259" />
<meta property="og:title" content="[MySQL] Random String" />
<meta name="twitter:title" content="[MySQL] Random String" />
<meta property="og:description" content="So I‚Äôd like to populate an entire existing database with random strings, but I‚Äôll only be doing this once so I don‚Äôt really want to create a procedure or something, and I‚Äôd like to see what you guys can come up with.  Think of it as a sort of fun contest. üôÇ  These both produce a random string between 5 and 10 characters long.  Anyhow, the first incarnation I adapted from something I found off the web, and it looks awful (but works):  UPDATE `servers` SET `key` = SUBSTRING(concat( EL..." />
<meta name="twitter:description" content="So I‚Äôd like to populate an entire existing database with random strings, but I‚Äôll only be doing this once so I don‚Äôt really want to create a procedure or something, and I‚Äôd like to see what you guys can come up with.  Think of it as a sort of fun contest. üôÇ  These both produce a random string between 5 and 10 characters long.  Anyhow, the first incarnation I adapted from something I found off the web, and it looks awful (but works):  UPDATE `servers` SET `key` = SUBSTRING(concat( EL..." />
<meta property="article:published_time" content="2012-03-05T20:59:30+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="435259.html">[MySQL] Random String</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-05T20:59:30Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:21:47Z' class='post-time'>
              August 2, 2016,  4:21pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So I‚Äôd like to populate an entire existing database with random strings, but I‚Äôll only be doing this once so I don‚Äôt really want to create a procedure or something, and I‚Äôd like to see what you guys can come up with.  Think of it as a sort of fun contest. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>These both produce a random string between 5 and 10 characters long.</p>
<p>Anyhow, the first incarnation I adapted from something I found off the web, and it looks awful (but works):</p>
<pre><code class="lang-auto">UPDATE `servers` SET `key` = SUBSTRING(concat(
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9')
), 1, 5 + FLOOR(RAND() * 10));</code></pre>
<p>The second I made up, and it is certainly cleaner, and allows easy addition of characters, but as far as I can figure, requires two queries in a UPDATE clause (if not, please show me)</p>
<pre><code class="lang-auto">SET @my_charset := 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
UPDATE `servers` SET `key` = SUBSTRING(concat(
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1)
), 1, 5 + FLOOR(RAND() * 10));</code></pre>
<p>I did write a version that only uses one query, but man does it NOT look good at all <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
<pre><code class="lang-auto">UPDATE `servers` SET `key` = (SELECT rand_string FROM (SELECT @my_charset := 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789' as my_charset,
SUBSTRING(concat(
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1)
), 1, 5 + FLOOR(RAND() * 10)) as rand_string) AS bob)</code></pre>
<p>Can anyone do better without using a procedure?  If not, go ahead and show the cleanest procedure you have, which of course would NOT be <a href="http://mysql-0v34c10ck.blogspot.com/2011/05/true-random-database-and-table-name_07.html" data-bbcode="true">this one</a>.</p>
      </div>

      <meta itemprop='headline' content='[MySQL] Random String'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/eczema3.html'><span itemprop='name'>eczema3</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-05T23:10:43Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:21:58Z' class='post-time'>
              August 2, 2016,  4:21pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It‚Äôs not MySQL but meh:</p>
<p><code>&lt;?php
do {
	@$str .= chr((rand(0,1))?rand(48,57):((rand(0,1))?rand(65,90):rand(97,122)));
} while(strlen($str) &lt; 10);
echo $str;
?&gt;</code></p>
      </div>

      <meta itemprop='headline' content='[MySQL] Random String'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sppt.html'><span itemprop='name'>sppt</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-05T23:52:19Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:22:01Z' class='post-time'>
              August 2, 2016,  4:22pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Looks like you misplaced a parenthesis.</p>
      </div>

      <meta itemprop='headline' content='[MySQL] Random String'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Aftermath_961.html'><span itemprop='name'>Aftermath_961</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-06T00:55:23Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:22:06Z' class='post-time'>
              August 2, 2016,  4:22pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>will only be doing this once =&gt; why care about how clean it is</p>
      </div>

      <meta itemprop='headline' content='[MySQL] Random String'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/T41.html'><span itemprop='name'>T41</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-06T02:04:06Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:22:10Z' class='post-time'>
              August 2, 2016,  4:22pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúMoparisthebest, post:1, topic:435259‚Äù]So I‚Äôd like to populate an entire existing database with random strings, but I‚Äôll only be doing this once so I don‚Äôt really want to create a procedure or something, and I‚Äôd like to see what you guys can come up with.  Think of it as a sort of fun contest. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>These both produce a random string between 5 and 10 characters long.</p>
<p>Anyhow, the first incarnation I adapted from something I found off the web, and it looks awful (but works):</p>
<pre><code class="lang-auto">UPDATE `servers` SET `key` = SUBSTRING(concat(
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9'),
ELT(1 + FLOOR(RAND() * 62) , 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',
                             'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',
                             '0','1','2','3','4','5','6','7','8','9')
), 1, 5 + FLOOR(RAND() * 10));</code></pre>
<p>The second I made up, and it is certainly cleaner, and allows easy addition of characters, but as far as I can figure, requires two queries in a UPDATE clause (if not, please show me)</p>
<pre><code class="lang-auto">SET @my_charset := 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
UPDATE `servers` SET `key` = SUBSTRING(concat(
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1)
), 1, 5 + FLOOR(RAND() * 10));</code></pre>
<p>I did write a version that only uses one query, but man does it NOT look good at all <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
<pre><code class="lang-auto">UPDATE `servers` SET `key` = (SELECT rand_string FROM (SELECT @my_charset := 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789' as my_charset,
SUBSTRING(concat(
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1),
SUBSTRING(SUBSTRING(@my_charset, (1 + FLOOR(RAND() * LENGTH(@my_charset)))), 1, 1)
), 1, 5 + FLOOR(RAND() * 10)) as rand_string) AS bob)</code></pre>
<p>Can anyone do better without using a procedure?  If not, go ahead and show the cleanest procedure you have, which of course would NOT be <a href="http://mysql-0v34c10ck.blogspot.com/2011/05/true-random-database-and-table-name_07.html" data-bbcode="true" rel="nofollow noopener">this one</a>.[/quote]<br>
my eyes <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
      </div>

      <meta itemprop='headline' content='[MySQL] Random String'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Fsig.html'><span itemprop='name'>Fsig</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-07T00:18:08Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:23:32Z' class='post-time'>
              August 2, 2016,  4:23pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi there, Ill take my prize in cash?</p>
<pre><code class="lang-auto">UPDATE `servers` SET `key` = MD5(RAND())</code></pre>
<p>Now can you tell me what you actually need this for? If you are needing to make a key to encrypt information with for example. I have actually just created a program in Java to do this for me.</p>
<p>It will generate random AES keys convert them to strings and save that string in my database. From there I can take the string from the database convert it to a key and use it to encrypt and decrypt information within my programs.</p>
      </div>

      <meta itemprop='headline' content='[MySQL] Random String'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-09T16:22:18Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:27:55Z' class='post-time'>
              August 2, 2016,  4:27pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúFsig, post:6, topic:435259‚Äù]Hi there, Ill take my prize in cash?</p>
<p><code>
UPDATE `servers` SET `key` = MD5(RAND())
</code>[/quote]</p>
<p>Winner.</p>
<p>‚Ä¶ well, actually, I guess it would be smarter to use the current time or something, to avoid duplicating keys (because of RAND()'s output).</p>
      </div>

      <meta itemprop='headline' content='[MySQL] Random String'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pwnd.html'><span itemprop='name'>Pwnd</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-09T20:04:28Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:28:03Z' class='post-time'>
              August 2, 2016,  4:28pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Current time wouldn‚Äôt work either‚Ä¶  Unless you looped the query and waited a ms/ns/whatever.</p>
      </div>

      <meta itemprop='headline' content='[MySQL] Random String'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-09T23:10:55Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:28:14Z' class='post-time'>
              August 2, 2016,  4:28pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúPwnd, post:8, topic:435259‚Äù]Current time wouldn‚Äôt work either‚Ä¶  Unless you looped the query and waited a ms/ns/whatever.[/quote]time would work as it includes the (encoded) date</p>
      </div>

      <meta itemprop='headline' content='[MySQL] Random String'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Fsig.html'><span itemprop='name'>Fsig</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-10T03:28:41Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:28:29Z' class='post-time'>
              August 2, 2016,  4:28pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚Äúc|p, post:7, topic:435259‚Äù][quote author=Fsig link=topic=537980.msg3936456#msg3936456 date=1331079488]<br>
Hi there, Ill take my prize in cash?</p>
<pre><code class="lang-auto">UPDATE `servers` SET `key` = MD5(RAND())</code></pre>
<p>[/quote]</p>
<p>Winner.</p>
<p>‚Ä¶ well, actually, I guess it would be smarter to use the current time or something, to avoid duplicating keys (because of RAND()'s output).[/quote]</p>
<p>Or just add a small sum in there.</p>
<p>EG:</p>
<pre><code class="lang-auto">UPDATE `servers` SET `key` = MD5(((RAND() + RAND()) * 6) - RAND())</code></pre>
      </div>

      <meta itemprop='headline' content='[MySQL] Random String'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-10T04:48:54Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:28:32Z' class='post-time'>
              August 2, 2016,  4:28pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Performing arbitrary arithmetic with multiple RAND() calls does not make it ‚Äúmore random‚Äù if that‚Äôs what you‚Äôre trying to do.  Read through a few answers <a href="http://stackoverflow.com/questions/3956478/understanding-randomness" data-bbcode="true" rel="nofollow noopener">here</a>.</p>
<p>I‚Äôll quote one response:</p>
<blockquote>Neither is 'more random'.
<p>rand() generates a predictable set of numbers based on a psuedo-random seed (usually based on the current time, which is always changing). Multiplying two consecutive numbers in the sequence generates a different, but equally predictable, sequence of numbers.</p>
<p>Addressing whether this will reduce collisions, the answer is no. It will actually increase collisions due to the effect of multiplying two numbers where 0 &lt; n &lt; 1. The result will be a smaller fraction, causing a bias in the result towards the lower end of the spectrum.</p>
<p>Some further explanations. In the following, ‚Äòunpredictable‚Äô and ‚Äòrandom‚Äô refer to the ability of someone to guess what the next number will be based on previous numbers.</p>
<p>Given seed x which generates the following list of values:</p>
<pre><code class="lang-auto"></code></pre>
<p>rand() will generate the above list, and rand() * rand() will generate:</p>
<pre><code class="lang-auto"></code></pre>
<p>Both methods will always produce the same list of numbers for the same seed, and hence are equally predictable. But if you look at the the results for multiplying the two calls, you‚Äôll see they are all under 0.3 despite a decent distribution in the original sequence. The numbers are biased because of the effect of multiplying two fractions. The resulting number is always smaller, therefore much more likely to be a collision despite still being just as unpredictable.</p>
</blockquote>
      </div>

      <meta itemprop='headline' content='[MySQL] Random String'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-10T17:30:35Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:29:04Z' class='post-time'>
              August 2, 2016,  4:29pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúFsig, post:6, topic:435259‚Äù]Hi there, Ill take my prize in cash?</p>
<p><code>
UPDATE `servers` SET `key` = MD5(RAND())
</code>[/quote]</p>
<p>That doesn‚Äôt work at all, that only uses this character set: ‚Äòabcdef0123456789‚Äô</p>
      </div>

      <meta itemprop='headline' content='[MySQL] Random String'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ollie.html'><span itemprop='name'>Ollie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-18T02:51:16Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:38:15Z' class='post-time'>
              August 2, 2016,  4:38pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>SELECT SUBSTRING(concat(
LOWER(CONV(FLOOR(RAND() * 36), 10, 36)),
LOWER(CONV(FLOOR(RAND() * 36), 10, 36)),
LOWER(CONV(FLOOR(RAND() * 36), 10, 36)),
LOWER(CONV(FLOOR(RAND() * 36), 10, 36)),
LOWER(CONV(FLOOR(RAND() * 36), 10, 36)),
LOWER(CONV(FLOOR(RAND() * 36), 10, 36)),
LOWER(CONV(FLOOR(RAND() * 36), 10, 36)),
LOWER(CONV(FLOOR(RAND() * 36), 10, 36)),
LOWER(CONV(FLOOR(RAND() * 36), 10, 36)),
LOWER(CONV(FLOOR(RAND() * 36), 10, 36))
), 1, 5 + FLOOR(RAND() * 10))</code></p>
<p>this works for a-z0-9 but doesn‚Äôt include capital letters.</p>
<p>edit: never mind saw the same solution on the link you had,</p>
      </div>

      <meta itemprop='headline' content='[MySQL] Random String'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/mysql-random-string/435259 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 05:18:09 GMT -->
</html>
